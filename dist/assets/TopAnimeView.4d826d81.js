import{S as p,G as d,R as h}from"./Result.7ecbd741.js";import{S as i}from"./SortItem.e6cc09f5.js";import{T as _}from"./TypeFilter.3e599023.js";import{_ as m}from"./plugin-vue_export-helper.21dcd24c.js";import{o as u,c as f,b as a,a as t,F as b,p as y,g}from"./index.4327e5b0.js";import"./SeriesCard.9784e3f2.js";import"./functions.19d76a73.js";const l=e=>(y("data-v-c0a97e14"),e=e(),g(),e),v=l(()=>t("h1",null,"Top Anime",-1)),S={class:"offcanvas offcanvas-start mycanva","data-bs-scroll":"true",tabindex:"-1",id:"filters-canvas","aria-labelledby":"offcanvas-filters"},k=l(()=>t("div",{class:"offcanvas-header"},[t("h5",{class:"offcanvas-title",id:"offcanvas-filters"},"Custom Sort"),t("button",{type:"button",class:"btn-close text-reset shadow-none btn-close-white","data-bs-dismiss":"offcanvas","aria-label":"Close"})],-1)),T={class:"offcanvas-body"},B={class:"container"},C=l(()=>t("h5",{style:{"margin-top":"16px"}},"Sort By",-1)),j=l(()=>t("h5",{style:{"margin-top":"24px","margin-bottom":"18px"}},"Filters",-1)),w=l(()=>t("br",null,null,-1)),A={data(){return{sortBy:{mal_score:1,mal_members:1,aired_start:0,episodes:0},genres:new Set,types:new Set,order:!0}},methods:{select_page(e){let s=this.backendUrl+"top/anime?",o=[];if(e>0&&o.push("page="+e),Object.values(this.sortBy).some(r=>r>0)){let r=[];for(const[n,c]of Object.entries(this.sortBy))c===1?r.push(n):c===2&&r.push(n+"-r");o.push("sort_by="+r.join(","))}else o.push("sort_by=None");this.genres.size>0&&o.push("genres="+Array.from(this.genres).join(",")),this.types.size>0&&o.push("types="+Array.from(this.types).join(",")),s+=o.join("&"),this.$refs.myresult.get_data(s)},genreToggle(e){this.genres.has(e)?this.genres.delete(e):this.genres.add(e),this.select_page(0)},typeToggle(e){this.types.has(e)?this.types.delete(e):this.types.add(e),this.select_page(0)},sortCallback(e,s){this.sortBy[e]=s,this.order=Object.values(this.sortBy).some(o=>o>0),this.select_page(0)}},mounted(){this.select_page(0)}},F=Object.assign(A,{setup(e){return(s,o)=>(u(),f(b,null,[v,a(p,{title:"Custom Sort","start-enabled":!1}),t("div",S,[k,t("div",T,[t("div",B,[C,a(i,{id:"mal_score",label:"Score",start:1,onSort:s.sortCallback},null,8,["onSort"]),a(i,{id:"mal_members",label:"Popularity",start:1,onSort:s.sortCallback},null,8,["onSort"]),a(i,{id:"aired_start",label:"Start Date",start:0,onSort:s.sortCallback},null,8,["onSort"]),a(i,{id:"episodes",label:"Number of Episodes",start:0,onSort:s.sortCallback},null,8,["onSort"]),j,a(_,{onType:s.typeToggle},null,8,["onType"]),w,a(d,{onGenre:s.genreToggle},null,8,["onGenre"])])])]),a(h,{ref:"myresult",type:"anime",onLastCallback:s.select_page,order:s.order},null,8,["onLastCallback","order"])],64))}});var L=m(F,[["__scopeId","data-v-c0a97e14"]]);export{L as default};
