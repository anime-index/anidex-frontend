import{_ as u}from"./plugin-vue_export-helper.21dcd24c.js";import{o as s,c as n,a as l,t as d,p as h,g as v,F as r,d as p,n as b,i as o,j as f,b as g,w,f as k,T as S,e as C,h as I}from"./index.d7decfd6.js";import{S as P,A as N}from"./SeriesCard.3772c11d.js";const B=e=>(h("data-v-50be230e"),e=e(),v(),e),j={class:"mysticky"},x={class:"btn btn-filters shadow-none",type:"button","data-bs-toggle":"offcanvas","data-bs-target":"#filters-canvas",ref:"haha","aria-controlls":"offcanvas-filters"},T=B(()=>l("i",{class:"bi bi-filter-left",id:"filters-icon"},null,-1)),A={for:"filters-icon",style:{"margin-left":"8px"}},G={mounted(){this.startEnabled&&this.$refs.haha.click()}},J=Object.assign(G,{props:{title:String,startEnabled:Boolean},setup(e){return(t,i)=>(s(),n("div",j,[l("a",x,[T,l("label",A,d(e.title),1)],512)]))}});var Se=u(J,[["__scopeId","data-v-50be230e"]]);const F={emits:["genre"],data(){return{genres:["Action","Adventure","Cars","Comedy","Dementia","Demons","Drama","Ecchi","Fantasy","Game","Harem","Hentai","Historical","Horror","Josei","Kids","Magic","Martial Arts","Mecha","Military","Music","Mystery","Parody","Police","Psychological","Romance","Samurai","School","Sci-Fi","Seinen","Shoujo","Shoujo Ai","Shounen","Shounen Ai","Slice of Life","Space","Sports","Super Power","Supernatural","Thriller","Vampire","Yaoi","Yuri"]}}},M=e=>(h("data-v-3b27c81b"),e=e(),v(),e),V=M(()=>l("h6",null,"Genres",-1)),q={class:"purp",style:{height:"300px",overflow:"auto"}},R=["id","value","onInput"],D=["for"];function E(e,t,i,a,$,me){return s(),n(r,null,[V,l("div",q,[(s(!0),n(r,null,p($.genres,c=>(s(),n("div",{class:"form-check",key:c.id},[l("input",{id:c,class:"form-check-input",type:"checkbox",value:c,onInput:_e=>e.$emit("genre",c)},null,40,R),l("label",{class:"form-check-label",for:c},d(c),9,D)]))),128))])],64)}var Ce=u(F,[["render",E],["__scopeId","data-v-3b27c81b"]]);const _=e=>(h("data-v-4027696a"),e=e(),v(),e),H={class:"pagination justify-content-center"},Y={key:0,class:"page-item"},O={key:1,class:"page-item disabled"},L=_(()=>l("button",{class:"page-link shadow-none"},"...",-1)),z=[L],K={class:"page-link"},Q={key:6,class:"page-item disabled"},U=_(()=>l("button",{class:"page-link shadow-none"},"...",-1)),W=[U],X={key:7,class:"page-item"},Z={props:{page:Number,lastPage:Number},setup(e){return(t,i)=>(s(),n("nav",null,[l("ul",H,[(s(),n("li",{class:b(["page-item",{disabled:e.page===0}]),key:e.page},[l("button",{class:"page-link shadow-none",onClick:i[0]||(i[0]=a=>t.$emit("callback",e.page-1))},"Previous")],2)),e.page>=1?(s(),n("li",Y,[l("button",{class:"page-link shadow-none",onClick:i[1]||(i[1]=a=>t.$emit("callback",0))},"1")])):o("",!0),e.page>=4?(s(),n("li",O,z)):o("",!0),e.page-2>=1?(s(),n("li",{key:e.page-2,class:"page-item"},[l("button",{class:"page-link shadow-none",onClick:i[2]||(i[2]=a=>t.$emit("callback",e.page-2))},d(e.page-1),1)])):o("",!0),e.page-1>=1?(s(),n("li",{key:e.page-1,class:"page-item"},[l("button",{class:"page-link shadow-none",onClick:i[3]||(i[3]=a=>t.$emit("callback",e.page-1))},d(e.page),1)])):o("",!0),(s(),n("li",{key:e.page,class:"page-item active"},[l("button",K,d(e.page+1),1)])),e.page+1<=e.lastPage-1?(s(),n("li",{key:e.page+1,class:"page-item"},[l("button",{class:"page-link shadow-none",onClick:i[4]||(i[4]=a=>t.$emit("callback",e.page+1))},d(e.page+2),1)])):o("",!0),e.page+2<=e.lastPage-1?(s(),n("li",{key:e.page+2,class:"page-item"},[l("button",{class:"page-link shadow-none",onClick:i[5]||(i[5]=a=>t.$emit("callback",e.page+2))},d(e.page+3),1)])):o("",!0),e.page<=e.lastPage-4?(s(),n("li",Q,W)):o("",!0),e.page<=e.lastPage-1?(s(),n("li",X,[l("button",{class:"page-link shadow-none",onClick:i[6]||(i[6]=a=>t.$emit("callback",e.lastPage))},d(e.lastPage+1),1)])):o("",!0),(s(),n("li",{class:b(["page-item",{disabled:e.page===e.lastPage}]),key:e.page},[l("button",{class:"page-link shadow-none",onClick:i[7]||(i[7]=a=>t.$emit("callback",e.page+1))},"Next")],2))])]))}};var m=u(Z,[["__scopeId","data-v-4027696a"]]);const ee={},ae={class:"col"},te=f('<div class="card mycard" data-v-1b7099ec><div class="row" data-v-1b7099ec><div class="col myfixed" data-v-1b7099ec><div class="myimg bg-secondary" data-v-1b7099ec></div>&quot; </div><div class="col" data-v-1b7099ec><div class="card-body mybody" data-v-1b7099ec><h5 class="card-title placeholder-glow" data-v-1b7099ec><span class="placeholder col-12" data-v-1b7099ec></span><span class="placeholder col-8" data-v-1b7099ec></span></h5><p class="card-text placeholder-glow" data-v-1b7099ec><span class="placeholder col-12" data-v-1b7099ec></span><span class="placeholder col-6" data-v-1b7099ec></span></p><p class="card_text placeholder-glow" data-v-1b7099ec><span class="placeholder col-12" data-v-1b7099ec></span><span class="placeholder col-12" data-v-1b7099ec></span><span class="placeholder col-12" data-v-1b7099ec></span><span class="placeholder col-9" data-v-1b7099ec></span></p></div></div></div></div>',1),se=[te];function le(e,t){return s(),n("div",ae,se)}var ne=u(ee,[["render",le],["__scopeId","data-v-1b7099ec"]]);const ie={class:"parent-grid"},oe={class:"row myseparation"},de={props:{dataJson:Object,page:Number,status:String,type:String,order:Boolean,dataId:Number},setup(e){return(t,i)=>(s(),n("div",ie,[g(S,{name:"fade",class:"child-grid"},{default:w(()=>[(s(),n("div",{class:"container",key:e.status+e.dataId+e.page},[l("div",oe,[e.status==="loading"?(s(),n(r,{key:0},p(30,a=>g(ne,{key:a})),64)):e.status==="normal"&&e.type==="series"?(s(!0),n(r,{key:1},p(e.dataJson,a=>(s(),k(P,{class:"series-card",key:a.series_id,series_id:a.series_id,title:a.title,popularity:a.popularity,score:a.score,image_url:a.image_url,episodes:a.episodes,seasons:a.seasons,synopsis:a.synopsis,position:a.position,date:a.date.slice(0,4),genres:a.genres,order:e.order},null,8,["series_id","title","popularity","score","image_url","episodes","seasons","synopsis","position","date","genres","order"]))),128)):e.status==="normal"&&e.type=="anime"?(s(!0),n(r,{key:2},p(e.dataJson,a=>(s(),k(N,{class:"anime-card",key:a.mal_id,anime_id:a.mal_id,title:a.title,popularity:a.mal_members,score:a.mal_score,image_url:a.image_url,episodes:a.episodes,type:a.type,synopsis:a.synopsis,genres:a.genres,position:a.position,date:a.start_date,order:e.order},null,8,["anime_id","title","popularity","score","image_url","episodes","type","synopsis","genres","position","date","order"]))),128)):o("",!0)])]))]),_:1})]))}};var ce=u(de,[["__scopeId","data-v-2e835c36"]]);const y=e=>(h("data-v-0b432121"),e=e(),v(),e),re={key:0,class:"mytext"},ue=y(()=>l("h5",null,"Yikes! The backend is down",-1)),ge=y(()=>l("p",null,[I("If you want to run it locally check: "),l("a",{href:"https://github.com/anime-index/anidex-backend"},"Anidex Backend")],-1)),pe=y(()=>l("p",null,"This page will keep reloading till it goes back up!",-1)),he=[ue,ge,pe],ve={key:2,class:"mytext"},ye=y(()=>l("p",null,"Go back or unselect some",-1)),be={expose:["get_data"],emits:["lastCallback"],data(){return{dataJson:[],page:0,lastPage:0,status:"loading",dataId:0,requestId:0}},methods:{select_page(e){this.$emit("lastCallback",e)},get_data(e){this.requestId++;const t=this.requestId;C.get(e).then(i=>{t>this.dataId&&(this.dataId=t,this.status="normal",this.dataJson=i.data.lst,this.page=i.data.page,this.lastPage=i.data.last_page)}).catch(()=>{this.status="failed",setTimeout(this.select_page.bind(null,this.page),1e3)}),window.scrollTo(0,0)}}},ke=Object.assign(be,{props:{type:String,order:Boolean},setup(e){return(t,i)=>t.status==="failed"?(s(),n("div",re,he)):t.status==="loading"||t.dataJson.length>0?(s(),n(r,{key:1},[g(m,{onCallback:t.select_page,page:t.page,"last-page":t.lastPage,style:{"margin-top":"16px"}},null,8,["onCallback","page","last-page"]),g(ce,{"data-json":t.dataJson,page:t.page,status:t.status,type:e.type,order:e.order,"data-id":t.dataId},null,8,["data-json","page","status","type","order","data-id"]),g(m,{onCallback:t.select_page,page:t.page,"last-page":t.lastPage},null,8,["onCallback","page","last-page"])],64)):(s(),n("div",ve,[l("h5",null,"Yikes! There are no "+d(e.type)+" with the selected criteria",1),ye]))}});var Ie=u(ke,[["__scopeId","data-v-0b432121"]]);export{Ce as G,Ie as R,Se as S};
